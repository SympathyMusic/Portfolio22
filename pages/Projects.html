<!DOCTYPE html>
<html>

<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width">
	<title>gabriel's portfolio</title>
	<link rel="stylesheet" type="text/css" href="../css/style.css">
	<script src="https://toolness.github.io/p5.js-widget/p5-widget.js">

	</script>

</head>

<body>
	<img class="scalable100" src="../images/upsidedown_banner.jpg" width="700">
    <h1> gabriel's portfolio </h1>
    <img class="scalable100" src="../images/rightsideup_banner.jpg" width="700">
    <nav class="menu">
      <div class="box">
        <a href="#">home</a>
        </div>
        <div class="box">
            <a href="../pages/AboutMe.html">about me</a>
        </div>
        <div class="box">
            <a href="../pages/Projects.html">projects</a>
        </div>
        <div class="box">
            <a href="../pages/DeepThoughts.html">complex musingsâ„¢</a>
        </div>
    </nav>
    <!--/menu-->
    <br>
    <h1> Pong </h1>
    <br>
    <div>
        <div class="flexbox-container">
            <div class="flexbox-item item-3">
               <script type="text/p5" data-height="450" data-autoplay data-preview-width="400">
              var padd1Y = 341;
              var padd2Y = 341;
              var xdir = -4;
              var ydir = -4;
              var ballX = 468;
              var ballY = 0;
              var score1 = 0;
              var score2 = 0;
              var started = false;
              function setup() {
                createCanvas(936, 702);
              }

function draw() {
  background(0);
  midLine();
  paddle1();
  paddle2();
  ball();
  score();
}
function midLine() {
  fill(255);
  rect(465, 26, 3, 26);
  rect(465, 78, 3, 26);
  rect(465, 130, 3, 26);
  rect(465, 182, 3, 26);
  rect(465, 234, 3, 26);
  rect(465, 286, 3, 26);
  rect(465, 338, 3, 26);
  rect(465, 390, 3, 26);
  rect(465, 442, 3, 26);
  rect(465, 494, 3, 26);
  rect(465, 546, 3, 26);
  rect(465, 598, 3, 26);
  rect(465, 650, 3, 26);
}
function paddle1() {
  rect(20, padd1Y, 10, 70);
}
function paddle2() {
  rect(906, padd2Y, 10, 70);
}

function ball() {
  fill(255);
  circle(ballX, ballY, 15);
  //Ball X movement
  if (started) {
    ballX += xdir;
    if (ballX >= 936 || ballX <= 0) {
      reset();
    }
    //Ball Y movement
    ballY -= ydir;
    if (ballY > 702 || ballY < 0) {
      ydir *= -1;
    }
    //Bounce off paddle
    if (ballX === 20 && ballY >= padd1Y && ballY <= padd1Y + 45) {
      xdir *= -1;
    }
    else if (ballX === 20 && ballY >= padd1Y + 45 && ballY <= padd1Y + 70) {
      ydir*=-1;
    }
    if (ballX === 904 && ballY >= padd2Y && ballY <= padd2Y + 70) {
      xdir *= -1;
    }
  }
}

function score() {
  textSize(50);
  text(score1, 234, 50);
  text(score2, 702, 50);
}

function reset() {
  if (ballX >= 936) {
    score1++;
  } else if (ballX <= 0) {
    score2++;
  }
  if (random(100) < 50) {
    xdir = 4;
  } else {
    xdir = -4;
  }
  ballX = 468;
  ballY = 0;
}

function keyTyped() {
  if (key === "w") {
    padd1Y -= 50;
  } else if (key === "s") {
    padd1Y += 50;
  }
  if (key === "i") {
    padd2Y -= 50;
  } else if (key === "k") {
    padd2Y += 50;
  }
}

function keyPressed() {
  if (keyCode === ENTER) {
    started = true;
  }
}

</script>
            </div>
        </div>
    </div>
    <div id="sketch-div"></div>
    <div>
        <div class="flexbox-container">
            <div class="flexbox-item item-3">My first project in P5js, if you ignore my earlier, failed attempts. It emulates the little-known indie game Pong, to be played with 2 players. If it worked, that is, because HTML is seemingly incapable of recognizing circles. I first tried to make Breakout, but I couldn't get it to work. My solution was to abandon that project entirely and seek greener pastures.
             </div>
        </div>
    </div>
    <div id="sketch-div"></div>
    </body>
</html>